import{Q as t,h as l,i as n}from"./QPage-D2RSilDb.js";import{e as i}from"./QBtn-BqN2MSYu.js";import{s as d,_ as u,t as p,u as c,v as o,y as a,M as m}from"./index-Dz8aaSRX.js";import"./dom-BWPBRP-R.js";const f=d({name:"IndexPage",data(){return{userId:null,success:null}},methods:{async login(){if(!this.userId)return;const e=await(await fetch("https://backendday.vercel.app/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:this.userId})})).json();console.log(e),e.success?(sessionStorage.setItem("userId",e.userId),sessionStorage.setItem("email",e.email||""),await this.$router.push("/")):this.success=!1}}});function g(s,e,I,h,b,y){return c(),p(t,{class:"flex flex-center bg-grey-2"},{default:o(()=>[a(l,{class:"q-pa-lg",style:{width:"350px"}},{default:o(()=>[e[1]||(e[1]=m("div",{class:"text-h6 text-center q-mb-md"},"Prihlásenie",-1)),a(n,{modelValue:s.userId,"onUpdate:modelValue":e[0]||(e[0]=r=>s.userId=r),label:"Zadajte vaše ID",class:"q-mb-md no-spin",error:s.success===!1,"error-message":"ID nebolo nájdené",color:"primary"},null,8,["modelValue","error"]),a(i,{color:"primary",label:"Pokračovať",class:"full-width",disable:!s.userId,onClick:s.login},null,8,["disable","onClick"])]),_:1})]),_:1})}const x=u(f,[["render",g]]);export{x as default};
